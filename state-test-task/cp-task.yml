---
platform: linux

image_resource:                                                                                                                
  type: docker-image                                                                                                           
  source: {repository: rjain/buildbox}

inputs:
- name: task-git-repo

outputs:
- name: task-dir

params:
  STATE_PATH_DIR:
  STATE_FILE_NAME:
run:
  path: bash
  args:
  - "-c"
  - |
     set -eux
     cp -r task-git-repo task-dir
     cp task-git-repo/${STATE_PATH_DIR}/${STATE_FILE_NAME} task-dir/${STATE_FILE_NAME}
