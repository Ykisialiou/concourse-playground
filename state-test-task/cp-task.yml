---
platform: linux

image_resource:                                                                                                                
  type: docker-image                                                                                                           
  source: {repository: rjain/buildbox}

inputs:
- name: task-repo

outputs:
- name: task-repo-updated

params:
  STATE_PATH_DIR:
  STATE_FILE_NAME:
run:
  path: bash
  args:
  - "-c"
  - |
     set -eux
     cp -r task-repo/${STATE_PATH_DIR} task-repo-updated/${STATE_PATH_DIR}
     cp task-repo/${STATE_PATH_DIR}/${STATE_FILE_NAME} task-repo-updated/${STATE_FILE_NAME}
